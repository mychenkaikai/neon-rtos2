//! Neon-RTOS2 Prelude 模块
//!
//! 提供常用类型的统一导出，方便用户一次性导入所有常用功能。
//!
//! # 使用方法
//!
//! ```rust
//! use neon_rtos2::prelude::*;
//! ```
//!
//! # 导出内容
//!
//! ## 任务管理
//! - [`Task`] - 任务句柄
//! - [`TaskBuilder`] - 任务构建器，支持链式 API
//! - [`TaskState`] - 任务状态枚举
//! - [`Priority`] - 任务优先级
//! - [`TaskIter`] - 任务迭代器
//!
//! ## 调度器
//! - [`Scheduler`] - 任务调度器
//!
//! ## 时间管理
//! - [`Timer`] - 软件定时器
//! - [`Delay`] - 延时功能
//! - [`Systick`] - 系统滴答时钟
//!
//! ## 同步原语
//! - [`Mutex`] - 互斥锁
//! - [`MutexGuard`] - 互斥锁 RAII 守卫
//! - [`Signal`] - 信号量
//! - [`Event`] - 事件（用于任务阻塞/唤醒）
//!
//! ## 进程间通信
//! - [`Mq`] - 静态分配的消息队列
//! - [`Ipc`] - 类型安全的 IPC 通道
//! - [`IpcHandle`] - IPC 句柄
//!
//! ## 异步运行时
//! - [`Executor`] - 异步执行器
//! - [`AsyncSignal`] - 异步信号量
//! - [`sleep`] - 异步睡眠函数
//! - [`yield_now`] - 让出执行权
//!
//! ## 错误处理
//! - [`Result`] - Result 类型别名
//! - [`RtosError`] - RTOS 错误类型
//!
//! ## 日志
//! 日志宏通过 `#[macro_export]` 自动导出到 crate 根，使用方式：
//! ```rust
//! use neon_rtos2::{trace, debug, info, warn, error};
//! // 或者直接使用
//! neon_rtos2::debug!("message");
//! ```
//!
//! ## 工具函数
//! - [`kernel_init`] - 内核初始化函数

// ============================================================================
// 任务管理
// ============================================================================

/// 任务句柄
pub use crate::kernel::task::Task;

/// 任务构建器，支持链式 API 创建任务
pub use crate::kernel::task::TaskBuilder;

/// 任务状态枚举
pub use crate::kernel::task::TaskState;

/// 任务优先级
pub use crate::kernel::task::Priority;

/// 任务迭代器
pub use crate::kernel::task::TaskIter;

// ============================================================================
// 调度器
// ============================================================================

/// 任务调度器
pub use crate::kernel::scheduler::Scheduler;

// ============================================================================
// 时间管理
// ============================================================================

/// 软件定时器
pub use crate::kernel::time::timer::Timer;

/// 延时功能
pub use crate::kernel::time::timer::Delay;

/// 系统滴答时钟
pub use crate::kernel::time::systick::Systick;

// ============================================================================
// 同步原语
// ============================================================================

/// 互斥锁
pub use crate::sync::Mutex;

/// 互斥锁 RAII 守卫
pub use crate::sync::MutexGuard;

/// 信号量
pub use crate::sync::Signal;

/// 事件（用于任务阻塞/唤醒）
pub use crate::sync::Event;

// ============================================================================
// 进程间通信
// ============================================================================

/// 静态分配的消息队列
pub use crate::ipc::queue::Mq;

/// 类型安全的 IPC 通道
pub use crate::ipc::channel::Ipc;

/// IPC 句柄
pub use crate::ipc::channel::IpcHandle;

// ============================================================================
// 异步运行时
// ============================================================================

/// 异步执行器
pub use crate::runtime::Executor;

/// 异步信号量
pub use crate::runtime::AsyncSignal;

/// 异步睡眠函数
pub use crate::runtime::sleep;

/// 让出执行权
pub use crate::runtime::yield_now;

/// 立即就绪的 Future
pub use crate::runtime::ready;

// ============================================================================
// 错误处理
// ============================================================================

/// Result 类型别名
pub use crate::error::Result;

/// RTOS 错误类型
pub use crate::error::RtosError;

// ============================================================================
// 日志
// ============================================================================

/// 日志级别
pub use crate::log::LogLevel;

/// 设置日志级别
pub use crate::log::set_log_level;

/// 获取日志级别
pub use crate::log::get_log_level;

// ============================================================================
// 工具函数
// ============================================================================

/// 内核初始化函数
pub use crate::utils::kernel_init;
