//! # Neon-RTOS2
//!
//! ä¸€ä¸ªä½¿ç”¨ Rust è¯­è¨€å¼€å‘çš„åµŒå…¥å¼å®æ—¶æ“ä½œç³»ç»Ÿï¼ˆRTOSï¼‰ï¼Œä¸“ä¸ºèµ„æºå—é™çš„åµŒå…¥å¼ç³»ç»Ÿè®¾è®¡ã€‚
//!
//! ## ç‰¹æ€§
//!
//! - ğŸ¦€ **çº¯ Rust å®ç°**: å……åˆ†åˆ©ç”¨ Rust çš„ç±»å‹ç³»ç»Ÿå’Œå†…å­˜å®‰å…¨ç‰¹æ€§
//! - ğŸ“¦ **no_std æ”¯æŒ**: é€‚ç”¨äºèµ„æºå—é™çš„åµŒå…¥å¼ç³»ç»Ÿ
//! - âš¡ **å®æ—¶è°ƒåº¦**: æ”¯æŒä¼˜å…ˆçº§è°ƒåº¦å’ŒæŠ¢å å¼ä»»åŠ¡åˆ‡æ¢
//! - ğŸ”’ **åŒæ­¥åŸè¯­**: äº’æ–¥é”ï¼ˆRAIIï¼‰ã€ä¿¡å·é‡ã€äº‹ä»¶ç­‰
//! - ğŸ“¬ **è¿›ç¨‹é—´é€šä¿¡**: æ¶ˆæ¯é˜Ÿåˆ—å’Œç±»å‹å®‰å…¨é€šé“
//! - â±ï¸ **å®šæ—¶å™¨ç³»ç»Ÿ**: è½¯ä»¶å®šæ—¶å™¨å’Œå»¶æ—¶åŠŸèƒ½
//! - ğŸ¯ **Builder æ¨¡å¼**: é“¾å¼ API åˆ›å»ºä»»åŠ¡
//! - ğŸ”„ **è¿­ä»£å™¨æ”¯æŒ**: å‡½æ•°å¼é£æ ¼éå†ä»»åŠ¡
//!
//! ## æ”¯æŒå¹³å°
//!
//! - âœ… Cortex-M3ï¼ˆå·²å®ç°ï¼‰
//! - ğŸ“ RISC-Vï¼ˆè®¡åˆ’ä¸­ï¼‰
//!
//! ## å¿«é€Ÿå¼€å§‹
//!
//! ```rust,no_run
//! # use neon_rtos2::prelude::*;
//! # fn main() -> Result<(), RtosError> {
//! # kernel_init();
//! // åˆ›å»ºä»»åŠ¡ï¼ˆBuilder æ¨¡å¼ï¼‰
//! let task = Task::builder("my_task")
//!     .priority(Priority::High)
//!     .spawn(|_| {
//!         loop {
//!             info!("Task running");
//!             Delay::delay(1000).unwrap();
//!         }
//!     }).unwrap();
//!
//! // å¯åŠ¨è°ƒåº¦å™¨
//! Scheduler::start();
//! # Ok(())
//! # }
//! ```
//!
//! ## æ¶æ„åˆ†å±‚
//!
//! ```text
//! â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
//! â”‚                      ç”¨æˆ·åº”ç”¨å±‚                              â”‚
//! â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//! â”‚                      API å±‚ (prelude)                       â”‚
//! â”‚              ç»Ÿä¸€å¯¼å‡ºã€Builder æ¨¡å¼ã€è¿­ä»£å™¨                   â”‚
//! â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//! â”‚                      æœåŠ¡å±‚                                  â”‚
//! â”‚       kernel/ï¼ˆä»»åŠ¡è°ƒåº¦ï¼‰  sync/ï¼ˆåŒæ­¥ï¼‰  ipc/ï¼ˆé€šä¿¡ï¼‰        â”‚
//! â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//! â”‚                      åŸºç¡€è®¾æ–½å±‚                              â”‚
//! â”‚       mem/ï¼ˆå†…å­˜ï¼‰  error/ï¼ˆé”™è¯¯ï¼‰  log/ï¼ˆæ—¥å¿—ï¼‰             â”‚
//! â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//! â”‚                   ç¡¬ä»¶æŠ½è±¡å±‚ (hal/)                          â”‚
//! â”‚              cortex_m3/  |  riscv/ (è®¡åˆ’ä¸­)                 â”‚
//! â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//! ```
//!
//! ## æ¨¡å—ç»“æ„
//!
//! | æ¨¡å— | è¯´æ˜ |
//! |------|------|
//! | [`kernel`] | å†…æ ¸æ ¸å¿ƒï¼ˆä»»åŠ¡ç®¡ç†ã€è°ƒåº¦å™¨ã€æ—¶é—´ç®¡ç†ï¼‰ |
//! | [`sync`] | åŒæ­¥åŸè¯­ï¼ˆäº’æ–¥é”ã€ä¿¡å·é‡ã€äº‹ä»¶ï¼‰ |
//! | [`ipc`] | è¿›ç¨‹é—´é€šä¿¡ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ã€ç±»å‹å®‰å…¨é€šé“ï¼‰ |
//! | [`hal`] | ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆCortex-M3ã€æµ‹è¯•æ¨¡æ‹Ÿï¼‰ |
//! | [`mem`] | å†…å­˜ç®¡ç†ï¼ˆå †åˆ†é…å™¨ï¼‰ |
//! | [`error`] | é”™è¯¯ç±»å‹å®šä¹‰ï¼ˆ`RtosError`ï¼‰ |
//! | [`config`] | ç³»ç»Ÿé…ç½®å¸¸é‡ |
//! | [`log`] | æ—¥å¿—ç³»ç»Ÿï¼ˆå¤šçº§åˆ«æ—¥å¿—ï¼‰ |
//! | [`prelude`] | å¸¸ç”¨ç±»å‹ç»Ÿä¸€å¯¼å‡º |
//!
//! ## Prelude å¯¼å‡º
//!
//! æ¨èä½¿ç”¨ `prelude` æ¨¡å—ä¸€æ¬¡æ€§å¯¼å…¥æ‰€æœ‰å¸¸ç”¨ç±»å‹ï¼š
//!
//! ```rust
//! use neon_rtos2::prelude::*;
//! ```
//!
//! å¯¼å‡ºå†…å®¹åŒ…æ‹¬ï¼š
//! - **ä»»åŠ¡ç®¡ç†**: `Task`, `TaskBuilder`, `TaskState`, `Priority`, `TaskIter`
//! - **è°ƒåº¦å™¨**: `Scheduler`
//! - **æ—¶é—´ç®¡ç†**: `Timer`, `Delay`, `Systick`
//! - **åŒæ­¥åŸè¯­**: `Mutex`, `MutexGuard`, `Signal`, `Event`
//! - **è¿›ç¨‹é—´é€šä¿¡**: `Mq`, `Ipc`, `IpcHandle`
//! - **é”™è¯¯å¤„ç†**: `Result`, `RtosError`
//! - **æ—¥å¿—**: `LogLevel`, `set_log_level`, `get_log_level`
//! - **å·¥å…·å‡½æ•°**: `kernel_init`
//!
//! ## æ–‡æ¡£
//!
//! è¯¦ç»†æ–‡æ¡£è¯·å‚é˜… `docs/` ç›®å½•ï¼š
//! - `docs/API_GUIDE.md` - API ä½¿ç”¨æŒ‡å—
//! - `docs/ARCHITECTURE.md` - æ¶æ„è®¾è®¡æ–‡æ¡£
//! - `docs/PROGRESS_REPORT.md` - å¼€å‘è¿›åº¦æŠ¥å‘Š

#![cfg_attr(not(test), no_std)]
#![cfg_attr(not(test), no_main)]

#[cfg(test)]
extern crate std;
extern crate alloc;

// ============================================================================
// æ ¸å¿ƒæ¨¡å—
// ============================================================================

/// å…¼å®¹å±‚æ¨¡å— - ç»Ÿä¸€ no_std å’Œ test ç¯å¢ƒçš„ç±»å‹å¯¼å…¥
pub mod compat;

/// é”™è¯¯ç±»å‹å®šä¹‰
pub mod error;

/// å†…æ ¸æ ¸å¿ƒæ¨¡å—
pub mod kernel;

/// åŒæ­¥åŸè¯­
pub mod sync;

/// è¿›ç¨‹é—´é€šä¿¡
pub mod ipc;

/// ç¡¬ä»¶æŠ½è±¡å±‚
pub mod hal;

/// å†…å­˜ç®¡ç†
pub mod mem;

/// ç³»ç»Ÿé…ç½®
pub mod config;

/// æ—¥å¿—ç³»ç»Ÿ
pub mod log;

/// å·¥å…·å‡½æ•°
pub mod utils;

/// å¸¸ç”¨ç±»å‹ç»Ÿä¸€å¯¼å‡º
pub mod prelude;

/// å¼‚æ­¥è¿è¡Œæ—¶
pub mod runtime;

/// è®¾å¤‡é©±åŠ¨æ¡†æ¶
pub mod drivers;

// ============================================================================
// é‡æ–°å¯¼å‡º
// ============================================================================

/// å®è¾…åŠ©å·¥å…·
pub use paste;
